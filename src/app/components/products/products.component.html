<div class="container-fluid">

  <div class="row">

    <section [ngClass]="showAddProduct ? 'col-md-7' : 'col-md-12'">
      <div class="product-header">
        <h1>Product List</h1>
        <button type="button" class="btn btn-outline-primary" *ngIf="!showAddProduct" (click)="showAddProducts()">
          Add Product
        </button>
        <button type="button" class="btn btn-outline-primary" *ngIf="showAddProduct" (click)="hideAddProducts()">
          Close Products
        </button>
      </div>

      <table class="table">
        <thead class="thead-light t-head">
          <tr>
            <th scope="col">Product ID</th>
            <th scope="col">Product Name</th>
            <th scope="col">Product Description</th>
            <th scope="col">Created Date</th>
            <th scope="col">Unit Price</th>
            <th scope="col">Quentity in Kgs</th>
            <th scope="col">Availability</th>
            <th scope="col">Product Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products let i = index" (click)="selectProduct(i)" [ngClass]="rowIndex == i ? 'active' : '' ">
            <th scope="row">{{ product.productId }}</th>
            <td>{{ product.productName }}</td>
            <td>{{ product.productDescription | contentLimiter}}</td>
            <td>{{ product.createdDate | date | uppercase }}</td>
            <td>{{ product.unitPrice | currency: 'Rs. '}}</td>
            <td>{{ product.quantity }}</td>
            <td>
              <!-- <p *ngIf="product.quantity <= 50">Lower Inventory Level</p> -->
              <!-- <p *ngIf="product.quantity > 50">Sufficient Inventory Level</p> -->

              <!-- <p *ngIf="product.quantity <= 50" [ngClass]="'bg-danger'">Lower Inventory Level</p> -->
              <p *ngIf="product.quantity <= 50" [ngStyle]="{'color':'red'}">Lower Inventory Level</p>
              <!-- <p [ngClass]="product.quantity <= 50 ? 'bg-danger' : '' ">Lower Inventory Level</p> -->
              <p *ngIf="product.quantity > 50" [ngStyle]="{'color':'green'}">Sufficient Inventory Level</p>
            </td>
            <td colspan="3">
              <button type="button" [disabled]="rowIndex != i && !isRowSelected" class="btn-xs icon">
                <i class="fa fa-eye icon"></i>
              </button>
              <button type="button" [disabled]="rowIndex != i && !isRowSelected" class="btn-xs icon">
                <i class="fa fa-pencil-square-o icon"></i>
              </button>
            </td>
        </tbody>
      </table>
    </section>

    <section class="col-md-5" *ngIf="showAddProduct">
      <app-add-product></app-add-product>
    </section>

  </div>

</div>
    
